# 页面切换淡入淡出动画实现说明

## 功能概述

实现了优雅的淡入淡出页面切换动画效果：
- 当前页面完全淡出后消失
- 下一个页面随即淡入显示
- 动画流畅自然，符合现代UI设计规范

## 实现细节

### 1. 双视图容器结构
- `currentViewLoader`: 当前显示的视图
- `nextViewLoader`: 准备切换的下一个视图
- 使用 `clip: true` 确保动画过程中视图不会溢出

### 2. 动画参数
- **动画时长**: 600ms
- **缓动函数**: `Easing.OutCubic` (平滑的减速效果)
- **移动距离**: 完整的容器高度

### 3. 动画流程
1. 用户点击导航菜单项
2. 系统加载下一个视图到 `nextViewLoader`
3. 启动并行动画：
   - 当前视图向上移动到 `-viewContainer.height`
   - 下一个视图从 `viewContainer.height` 移动到 `0`
4. 动画完成后交换视图引用并重置位置

### 4. 性能优化
- 防止动画期间重复切换
- 智能的视图加载等待机制
- 动画完成后及时清理资源

## 使用方法

### 基本切换
点击左侧导航栏的任意功能按钮即可触发翻滚动画：
- ☀️ 今日天气
- 📈 温度趋势  
- 📅 详细天气
- 🌅 日出日落

### 键盘快捷键
- `↑` / `↓`: 切换功能视图
- `←` / `→`: 切换城市

### 自定义动画参数
```qml
// 修改动画时长
contentArea.setAnimationDuration(800) // 800ms

// 修改缓动效果
contentArea.setAnimationEasing(Easing.InOutQuad)
```

## 技术特点

1. **流畅性**: 使用硬件加速的属性动画
2. **响应性**: 支持动画期间的状态管理
3. **兼容性**: 与现有的导航系统完全兼容
4. **可扩展性**: 易于调整动画参数和效果

## 注意事项

- 动画期间会阻止新的切换请求，避免状态混乱
- 视图加载完成后才会开始动画，确保内容完整显示
- 支持数据的实时更新，不会因为动画影响数据同步